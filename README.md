Этот проект представляет собой FastAPI-приложение для парсинга данных и их хранения в базе данных SQLite. В приложении реализованы эндпоинты для ручного запуска парсинга, редактирования и удаления элементов, а также автоматический запуск парсинга каждые 1 час.

### Основные компоненты:
- **FastAPI** для создания API.
- **SQLAlchemy** для работы с базой данных.
- **APScheduler** для автоматического запуска задач.
- **SQLite** в качестве базы данных.

## Установка и запуск

### 1. Создание виртуального окружения

```bash
python -m venv venv
source venv/bin/activate
```

### 2. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 3. Запуск приложения

```bash
uvicorn app:app --reload
```

Приложение будет доступно по адресу: [http://127.0.0.1:8000](http://127.0.0.1:8000)

## Структура проекта

```
.
├── app.py           # Основной файл FastAPI-приложения
├── db.py            # Настройка базы данных
├── main.py          # Основная логика парсинга и сохранения данных
├── models.py        # Определение моделей SQLAlchemy
└── parser.py        # Модуль для парсинга данных
```

## Эндпоинты

### 1. Получение приветственного сообщения

- **Метод:** `GET`
- **URL:** `/`
- **Описание:** Возвращает приветственное сообщение.

**Пример ответа:**
```json
{
    "message": "Добро пожаловать в API парсинга!"
}
```

### 2. Ручной запуск парсинга

- **Метод:** `GET`
- **URL:** `/parse`
- **Описание:** Запускает парсинг данных и сохраняет новые элементы в базу данных.

**Пример ответа:**
```json
{
    "message": "Успешно добавлено 5 новых элементов."
}
```

### 3. Редактирование товара

- **Метод:** `PUT`
- **URL:** `/items/{item_id}`
- **Описание:** Редактирует товар с указанным `item_id`.

**Тело запроса:**
```json
{
    "name": "New Item Name",
    "price": 100
}
```

**Пример ответа:**
```json
{
    "message": "Товар успешно обновлён",
    "item": {
        "id": 1,
        "name": "New Item Name",
        "price": 100
    }
}
```

### 4. Удаление товара

- **Метод:** `DELETE`
- **URL:** `/items/{item_id}`
- **Описание:** Удаляет товар с указанным `item_id`.

**Пример ответа:**
```json
{
    "message": "Товар с ID 1 успешно удалён"
}
```

## Автоматический парсинг

При запуске приложения срабатывает задача по автоматическому парсингу данных, которая выполняется каждый час. Это реализовано с помощью **APScheduler**.